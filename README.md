# üéüÔ∏è Ticketing Microservices App

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–µ–∂–¥–µ —á–µ–º –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cp .env.example .env

# –î–ª—è access-control-api
cp access-control-api/.env.example access-control-api/.env
```

---

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:

- **Main API** (`localhost:3002`) ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏  
- **Ticket API** (`localhost:3001`) ‚Äî —Å–æ–±—ã—Ç–∏—è, –±–∏–ª–µ—Ç—ã, –ø–æ–∫—É–ø–∫–∏  
- **Access Control API** (`localhost:3000`) ‚Äî –ø—Ä–æ—Ö–æ–¥ –Ω–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤

---

# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é Makefile

| –ö–æ–º–∞–Ω–¥–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                    |
|---------------------|---------------------------------------------------------------------------------------------|
| `make init`   | üîß –ü–æ–ª–Ω—ã–π –±–∏–ª–¥ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ + –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö –ë–î (build + setup) |
| `make build` / `make rebuild` | –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã  |
| `make up` | –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ |
| `make up-detached`/ `make up-d`   | –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–µ (`-d`)   |
| `make down`   | –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —É–¥–∞–ª—è–µ—Ç `orphan`-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã    |
| `make restart`    | –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: –≤—ã–∫–ª—é—á–µ–Ω–∏–µ + –∑–∞–ø—É—Å–∫    |
| `make setup`  | –í—ã–ø–æ–ª–Ω—è–µ—Ç db: `drop`, `create`, `migrate`, `seed` –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤   |
| `make ticket-api-db`  | –ó–∞–ø—É—Å–∫–∞–µ—Ç setup —Ç–æ–ª—å–∫–æ –¥–ª—è `ticket-api`  |
| `make main-api-db`    | –ó–∞–ø—É—Å–∫–∞–µ—Ç setup —Ç–æ–ª—å–∫–æ –¥–ª—è `main-api`    |
| `make access-control-db`  | –ó–∞–ø—É—Å–∫–∞–µ—Ç setup —Ç–æ–ª—å–∫–æ –¥–ª—è `access-control`  |
| `make tests`  | –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã  |
| `make integration-tests`  | –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (‚ö†Ô∏è —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏ —ç—Ç–æ–º –∑–∞–ø—É—â–µ–Ω—ã)  |
| `make unit-tests`  | –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ unit-—Ç–µ—Å—Ç—ã  |

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–±–µ–∑ Makefile)

### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose up --build
```

### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
```bash
docker-compose up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
docker-compose down
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

| –°–µ—Ä–≤–∏—Å              | URL                     |
|---------------------|--------------------------|
| Access Control API  | http://localhost:3000    |
| Ticket API          | http://localhost:3001    |
| Main API            | http://localhost:3002    |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

–ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–π –Ω–∞–±–æ—Ä HTTP-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

‚û°Ô∏è **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö API-–∫–æ–º–∞–Ω–¥ –∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ:**  
[`docs/api.md`](docs/api.md)

–¢–∞–º –≤—ã –Ω–∞–π–¥–µ—Ç–µ:

- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ Main API  
- üéü –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–æ–∫—É–ø–∫—É –±–∏–ª–µ—Ç–æ–≤ –≤ Ticket API  
- üö™ –ü—Ä–æ–≤–µ—Ä–∫—É –¥–æ—Å—Ç—É–ø–∞ –∏ –ª–æ–≥–∏ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ –≤ Access Control API  

---

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Docker + Docker Compose
- Ruby on Rails (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)
- PostgreSQL (–ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Docker)